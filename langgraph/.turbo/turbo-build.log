$ yarn clean && yarn build:esm && yarn build:cjs && yarn build:scripts
$ rm -rf dist/ && NODE_OPTIONS=--max-old-space-size=4096 node scripts/create-entrypoints.js pre
$ NODE_OPTIONS=--max-old-space-size=4096 tsc --outDir dist/ && rm -rf dist/tests dist/**/tests
src/pregel/read.ts(212,3): error TS2416: Property 'pipe' in type 'ChannelBatch<RunInput, RunOutput>' is not assignable to the same property in base type 'RunnableEach<RunInput, RunOutput, RunnableConfig>'.
  Type '<NewRunOutput>(coerceable: RunnableLike<RunOutput[], NewRunOutput>) => ChannelBatch<RunInput, RunOutput>' is not assignable to type '<NewRunOutput>(coerceable: RunnableLike<RunOutput[], NewRunOutput>) => Runnable<RunInput[], Exclude<NewRunOutput, Error>, RunnableConfig>'.
    Call signature return types 'ChannelBatch<RunInput, RunOutput>' and 'Runnable<RunInput[], Exclude<NewRunOutput, Error>, RunnableConfig>' are incompatible.
      The types returned by 'invoke(...)' are incompatible between these types.
        Type 'Promise<RunOutput[]>' is not assignable to type 'Promise<Exclude<NewRunOutput, Error>>'.
          Type 'RunOutput[]' is not assignable to type 'Exclude<NewRunOutput, Error>'.
src/pregel/read.ts(219,9): error TS2322: Type 'Runnable<RunOutput, Exclude<NewRunOutput, Error>, RunnableConfig>' is not assignable to type 'Runnable<RunInput, RunOutput, RunnableConfig>'.
  Types of property 'invoke' are incompatible.
    Type '(input: RunOutput, options?: Partial<RunnableConfig> | undefined) => Promise<Exclude<NewRunOutput, Error>>' is not assignable to type '(input: RunInput, options?: Partial<RunnableConfig> | undefined) => Promise<RunOutput>'.
      Types of parameters 'input' and 'input' are incompatible.
        Type 'RunInput' is not assignable to type 'RunOutput'.
          'RunOutput' could be instantiated with an arbitrary type which could be unrelated to 'RunInput'.
src/pregel/read.ts(219,59): error TS2345: Argument of type 'RunnableLike<RunOutput[], NewRunOutput>' is not assignable to parameter of type 'RunnableLike<RunOutput, NewRunOutput>'.
  Type 'RunnableInterface<RunOutput[], NewRunOutput, RunnableConfig>' is not assignable to type 'RunnableLike<RunOutput, NewRunOutput>'.
    Type 'RunnableInterface<RunOutput[], NewRunOutput, RunnableConfig>' is not assignable to type 'RunnableInterface<RunOutput, NewRunOutput, RunnableConfig>'.
      Types of property 'invoke' are incompatible.
        Type '(input: RunOutput[], options?: Partial<RunnableConfig> | undefined) => Promise<NewRunOutput>' is not assignable to type '(input: RunOutput, options?: Partial<RunnableConfig> | undefined) => Promise<NewRunOutput>'.
          Types of parameters 'input' and 'input' are incompatible.
            Type 'RunOutput' is not assignable to type 'RunOutput[]'.
src/pregel/read.ts(226,43): error TS2345: Argument of type 'Runnable<RunInput, RunOutput, RunnableConfig>' is not assignable to parameter of type 'RunnableLike<RunOutput, RunOutput>'.
  Type 'Runnable<RunInput, RunOutput, RunnableConfig>' is not assignable to type 'RunnableInterface<RunOutput, RunOutput, RunnableConfig>'.
    Types of property 'invoke' are incompatible.
      Type '(input: RunInput, options?: Partial<RunnableConfig> | undefined) => Promise<RunOutput>' is not assignable to type '(input: RunOutput, options?: Partial<RunnableConfig> | undefined) => Promise<RunOutput>'.
        Types of parameters 'input' and 'input' are incompatible.
          Type 'RunOutput' is not assignable to type 'RunInput'.
            'RunInput' could be instantiated with an arbitrary type which could be unrelated to 'RunOutput'.
src/tests/pregel.test.ts(2,39): error TS6133: 'afterAll' is declared but its value is never read.
src/tests/pregel.test.ts(220,11): error TS2345: Argument of type 'Mock<(x: number) => number>' is not assignable to parameter of type 'RunnableLike<any[], number>'.
  Type 'Mock<(x: number) => number>' is not assignable to type 'RunnableFunc<any[], number>'.
    Types of parameters 'x' and 'input' are incompatible.
      Type 'any[]' is not assignable to type 'number'.
src/tests/pregel.test.ts(271,45): error TS2769: No overload matches this call.
  Overload 1 of 3, '(inputs: any[], options?: Partial<PregelOptions> | Partial<PregelOptions>[] | undefined, batchOptions?: (RunnableBatchOptions & { ...; }) | undefined): Promise<...>', gave the following error.
    Argument of type '{ output: string[]; }' is not assignable to parameter of type 'Partial<PregelOptions> | Partial<PregelOptions>[] | undefined'.
      Object literal may only specify known properties, and 'output' does not exist in type 'Partial<PregelOptions> | Partial<PregelOptions>[]'.
  Overload 2 of 3, '(inputs: any[], options?: Partial<PregelOptions> | Partial<PregelOptions>[] | undefined, batchOptions?: (RunnableBatchOptions & { ...; }) | undefined): Promise<...>', gave the following error.
    Argument of type '{ output: string[]; }' is not assignable to parameter of type 'Partial<PregelOptions> | Partial<PregelOptions>[] | undefined'.
      Object literal may only specify known properties, and 'output' does not exist in type 'Partial<PregelOptions> | Partial<PregelOptions>[]'.
  Overload 3 of 3, '(inputs: any[], options?: Partial<PregelOptions> | Partial<PregelOptions>[] | undefined, batchOptions?: RunnableBatchOptions | undefined): Promise<...>', gave the following error.
    Argument of type '{ output: string[]; }' is not assignable to parameter of type 'Partial<PregelOptions> | Partial<PregelOptions>[] | undefined'.
      Object literal may only specify known properties, and 'output' does not exist in type 'Partial<PregelOptions> | Partial<PregelOptions>[]'.
error Command failed with exit code 2.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
error Command failed with exit code 2.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
